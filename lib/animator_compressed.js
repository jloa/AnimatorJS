/* Animator.js v0.2a | https://github.com/jloa/AnimatorJS | MIT licence */
(function(c){var b=(function(){var e=navigator.userAgent;var d=Object.prototype.toString.call(c.opera)=="[object Opera]";return{ie:!!c.attachEvent&&!d,opera:d,webkit:e.indexOf("AppleWebKit/")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,mobileSafari:/Apple.*Mobile/.test(e)}})();c.browser=b;var a={version:"0.2a",animate:function(e,v,d,r,t,l,k,j,u){k=(k==undefined)?[]:k;j=(j==undefined)?true:j;var w=k.length;if(w==0){return}var g=e.attr("id").replace(/\W/gi,"")+"_animation";var p=this.getPrefix();var o=e.attr("style");o=(o==undefined)?"":o;var f=this.genAnimationStyles(p,g,d,v,r,t,l);var s=this.genAnimationCSS(p,g,k);for(var q=0,m=f.length;q<m;++q){e.css(f[q].prop,f[q].val)}if(u!=undefined){e.data("on-finish",u)}e.data("end-props",(j)?k[w-1]:o);e.unbind("webkitAnimationEnd animationend");e.bind("webkitAnimationEnd animationend",function(){$(this).attr("style",$(this).data("end-props"));if($(this).data("on-finish")){$(this).data("on-finish")(this)}});e.data("animation-styles",f);e.data("animation-css",s);var h=document.styleSheets[0];if(h.insertRule){h.insertRule(s.selector+"{"+s.style+"}",0)}if(h.addRule){h.addRule(s.selector,s.style)}},pause:function(d){d.css(this.getPrefix()+"animation-play-state","paused")},resume:function(d){d.css(this.getPrefix()+"animation-play-state","running")},isPaused:function(d){return d.css(this.getPrefix()+"animation-play-state")=="paused"},genAnimationStyles:function(i,e,k,f,h,j,d){var g=[];g.push({prop:i+"animation-name",val:e});g.push({prop:i+"animation-duration",val:k+"s"});g.push({prop:i+"animation-delay",val:f+"s"});g.push({prop:i+"animation-iteration-count",val:h});g.push({prop:i+"animation-direction",val:j});g.push({prop:i+"animation-timing-function",val:d});g.push({prop:i+"animation-play-state",val:"running"});return g},genAnimationCSS:function(h,e,j){var d="@"+h+"keyframes "+e;var g="";for(var f=0,k=j.length;f<k;++f){j[f]=j[f].replace(/transform/,h+"transform");g+=Math.round(f/(k-1)*100)+"% {"+j[f]+"}"}return{selector:d,style:g}},getPrefix:function(){if(b.ie){return"-ms-"}if(b.gecko){return"-moz-"}if(b.webkit||b.mobileSafari){return"-webkit-"}return""}};c.animator=c.$animator=a})(window);