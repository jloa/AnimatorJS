/*
 * Animator.js v0.1a | https://github.com/jloa/AnimatorJS | by Julius Loa, Jloa
 */
(function(c){var b=(function(){var e=navigator.userAgent;var d=Object.prototype.toString.call(c.opera)=="[object Opera]";return{ie:!!c.attachEvent&&!d,opera:d,webkit:e.indexOf("AppleWebKit/")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,mobileSafari:/Apple.*Mobile/.test(e)}})();c.browser=b;var a={version:"0.1a",animate:function(m,o,h,e,s,v,r,t){r=(r==undefined)?[]:r;t=(t==undefined)?true:t;var g=r.length;if(g==0){return}var k=m.attr("id").replace(/\W/gi,"")+"_animation";var p=this.getPrefix();var f=m.attr("style");f=(f==undefined)?"":f;var j=this.genAnimationStyles(p,k,h,o,e,s,v);var u=this.genAnimationCSS(p,k,r);for(var l=0,d=j.length;l<d;++l){m.css(j[l].prop,j[l].val)}m.data("end-props",(t)?r[g-1]:f);m.unbind("webkitAnimationEnd animationend");m.bind("webkitAnimationEnd animationend",function(){$(this).attr("style",$(this).data("end-props"))});m.data("animation-styles",j);m.data("animation-css",u);var q=document.styleSheets[0];if(q.insertRule){q.insertRule(u.selector+"{"+u.style+"}",0)}if(q.addRule){q.addRule(u.selector,u.style)}},pause:function(d){d.css(this.getPrefix()+"animation-play-state","paused")},resume:function(d){d.css(this.getPrefix()+"animation-play-state","running")},isPaused:function(d){return d.css(this.getPrefix()+"animation-play-state")=="paused"},genAnimationStyles:function(i,e,k,f,h,j,d){var g=[];g.push({prop:i+"animation-name",val:e});g.push({prop:i+"animation-duration",val:k+"s"});g.push({prop:i+"animation-delay",val:f+"s"});g.push({prop:i+"animation-iteration-count",val:h});g.push({prop:i+"animation-direction",val:j});g.push({prop:i+"animation-timing-function",val:d});g.push({prop:i+"animation-play-state",val:"running"});return g},genAnimationCSS:function(h,e,j){var d="@"+h+"keyframes "+e;var g="";for(var f=0,k=j.length;f<k;++f){j[f]=j[f].replace(/transform/,h+"transform");g+=Math.round(f/(k-1)*100)+"% {"+j[f]+"}"}return{selector:d,style:g}},getPrefix:function(){if(b.ie){return"-ms-"}if(b.gecko){return"-moz-"}if(b.webkit||b.mobileSafari){return"-webkit-"}return""}};c.animator=c.$animator=a})(window);